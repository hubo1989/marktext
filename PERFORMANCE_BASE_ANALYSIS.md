# MarkText Next æ€§èƒ½åŸºåº§åˆ†æä¸ä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ¯ å½“å‰æ€§èƒ½é—®é¢˜åˆ†æ

### Electron åº”ç”¨å¯åŠ¨æ…¢çš„ä¸»è¦åŸå› 

#### 1. **Chromium å†…æ ¸å¯åŠ¨å¼€é”€**
- **é—®é¢˜**: Electron å†…ç½®å®Œæ•´ Chromium æµè§ˆå™¨ (~100MB)
- **å½±å“**: å†·å¯åŠ¨éœ€è¦ 2-5 ç§’åŠ è½½ Chromium å†…æ ¸
- **å¯¹æ¯”**: åŸç”Ÿåº”ç”¨å¯åŠ¨é€šå¸¸ < 1 ç§’

#### 2. **Node.js åŒè¿›ç¨‹æ¶æ„**
- **é—®é¢˜**: ä¸»è¿›ç¨‹ + æ¸²æŸ“è¿›ç¨‹åŒè¿›ç¨‹é€šä¿¡å¼€é”€
- **å½±å“**: IPC é€šä¿¡å»¶è¿Ÿï¼Œå†…å­˜å ç”¨æ›´é«˜
- **ç“¶é¢ˆ**: å¤§æ–‡ä»¶å¤„ç†æ—¶è¿›ç¨‹é—´æ•°æ®ä¼ è¾“æ•ˆç‡ä½

#### 3. **èµ„æºåŠ è½½ä¼˜åŒ–ä¸è¶³**
- **é—®é¢˜**: æœªå……åˆ†åˆ©ç”¨ç°ä»£æµè§ˆå™¨ç¼“å­˜ç­–ç•¥
- **å½±å“**: é‡å¤åŠ è½½ç›¸åŒèµ„æºï¼Œé¦–æ¬¡åŠ è½½æ—¶é—´é•¿
- **ç°çŠ¶**: è™½ç„¶æœ‰ä»£ç åˆ†å‰²ï¼Œä½†å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–

---

## ğŸš€ æ›¿ä»£æ€§èƒ½åŸºåº§æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼š**Tauri** (æ¨è) â­â­â­â­â­

#### ä¼˜åŠ¿åˆ†æ
```rust
// Tauri ä½¿ç”¨ Rust ç³»ç»Ÿè°ƒç”¨ï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿ
#[tauri::command]
fn process_markdown(content: String) -> String {
    // ç›´æ¥ç³»ç»Ÿè°ƒç”¨ï¼Œæ—  JS æ¡¥æ¥å¼€é”€
    markdown::to_html(&content)
}
```

**æ€§èƒ½æå‡**:
- **å¯åŠ¨æ—¶é—´**: å‡å°‘ 60-80% (ä» 2-5ç§’ â†’ 0.5-1ç§’)
- **å†…å­˜å ç”¨**: å‡å°‘ 40-60% (ä» ~200MB â†’ ~80MB)
- **åŒ…ä½“ç§¯**: å‡å°‘ 70% (ä» ~150MB â†’ ~45MB)
- **ç³»ç»Ÿé›†æˆ**: æ›´æµç•…çš„ç³»ç»Ÿ API è°ƒç”¨

#### æŠ€æœ¯ç‰¹ç‚¹
- **Rust åç«¯**: ç³»ç»Ÿçº§æ€§èƒ½ï¼Œå®‰å…¨æ€§é«˜
- **WebView**: è½»é‡çº§æµè§ˆå™¨å†…æ ¸ (éå®Œæ•´ Chromium)
- **è·¨å¹³å°**: Windows/macOS/Linux åŸç”Ÿæ”¯æŒ
- **æ’ä»¶ç”Ÿæ€**: ä¸°å¯Œçš„ç¤¾åŒºæ’ä»¶

#### è¿ç§»æˆæœ¬
- **å‰ç«¯ä»£ç **: åŸºæœ¬æ— éœ€ä¿®æ”¹ (Vue 3 + Vite å¯ç›´æ¥ä½¿ç”¨)
- **åç«¯é€»è¾‘**: éœ€è¦å°† Node.js ä»£ç è¿ç§»åˆ° Rust
- **æ„å»ºç³»ç»Ÿ**: ä» electron-builder æ”¹ä¸º Tauri CLI

### æ–¹æ¡ˆäºŒï¼š**Neutralino.js**

#### ä¼˜åŠ¿åˆ†æ
- **è¶…è½»é‡çº§**: åªæœ‰ ~5MBï¼Œå¯åŠ¨é€Ÿåº¦æå¿« (< 0.5ç§’)
- **WebView é›†æˆ**: ä½¿ç”¨ç³»ç»ŸåŸç”Ÿ WebView
- **å¤šè¯­è¨€æ”¯æŒ**: JS/Node.js + C++/Python ç­‰åç«¯

#### å±€é™æ€§
- **ç”Ÿæ€è¾ƒå°**: ç¤¾åŒºå’Œæ’ä»¶ä¸å¦‚ Electron ä¸°å¯Œ
- **åŠŸèƒ½é™åˆ¶**: æŸäº›ç³»ç»Ÿ API æ”¯æŒä¸å®Œæ•´
- **è°ƒè¯•å›°éš¾**: åŸç”Ÿä»£ç è°ƒè¯•ç›¸å¯¹å¤æ‚

### æ–¹æ¡ˆä¸‰ï¼š**NW.js (åŸ node-webkit)**

#### ä¼˜åŠ¿åˆ†æ
- **å•è¿›ç¨‹æ¶æ„**: é¿å… IPC å¼€é”€
- **Chromium é›†æˆ**: ä¸ Electron ç›¸ä¼¼çš„æŠ€æœ¯æ ˆ
- **å¼€å‘ä½“éªŒ**: ç±»ä¼¼ Electron çš„å¼€å‘æ¨¡å¼

#### å±€é™æ€§
- **æ€§èƒ½é—®é¢˜**: åŒæ ·å­˜åœ¨ Chromium å¯åŠ¨æ…¢çš„é—®é¢˜
- **ç»´æŠ¤çŠ¶æ€**: æ›´æ–°ä¸å¦‚ Electron æ´»è·ƒ
- **å®‰å…¨éšæ‚£**: å†å²ä¸Šæœ‰ä¸€äº›å®‰å…¨é—®é¢˜

### æ–¹æ¡ˆå››ï¼š**PWA + File System API**

#### ä¼˜åŠ¿åˆ†æ
- **é›¶å®‰è£…**: ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ
- **å³æ—¶å¯åŠ¨**: æµè§ˆå™¨å·²å¯åŠ¨æƒ…å†µä¸‹ < 0.1ç§’
- **è‡ªåŠ¨æ›´æ–°**: æ— éœ€ç”¨æˆ·æ‰‹åŠ¨æ›´æ–°

#### æŠ€æœ¯å®ç°
```javascript
// File System Access API (Chrome/Edge)
const fileHandle = await window.showOpenFilePicker();
const file = await fileHandle.getFile();
const content = await file.text();
```

#### å±€é™æ€§
- **æµè§ˆå™¨å…¼å®¹æ€§**: ä»… Chromium å†…æ ¸æµè§ˆå™¨æ”¯æŒ
- **æƒé™é™åˆ¶**: éœ€è¦ç”¨æˆ·æˆæƒæ–‡ä»¶ç³»ç»Ÿè®¿é—®
- **ç¦»çº¿èƒ½åŠ›**: ä¾èµ– Service Worker

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”åˆ†æ

| æŒ‡æ ‡ | Electron (å½“å‰) | Tauri (æ¨è) | Neutralino | PWA |
|------|----------------|-------------|-----------|-----|
| å†·å¯åŠ¨æ—¶é—´ | 2-5ç§’ | 0.5-1ç§’ | <0.5ç§’ | <0.1ç§’* |
| å†…å­˜å ç”¨ | ~200MB | ~80MB | ~50MB | ~30MB |
| åŒ…ä½“ç§¯ | ~150MB | ~45MB | ~5MB | 0MB |
| ç³»ç»Ÿé›†æˆ | ä¼˜ç§€ | ä¼˜ç§€ | è‰¯å¥½ | æœ‰é™ |
| å¼€å‘å¤æ‚åº¦ | ä¸­ç­‰ | ä¸­ç­‰åé«˜ | ä¸­ç­‰ | ä½ |
| ç”Ÿæ€æˆç†Ÿåº¦ | ä¼˜ç§€ | è‰¯å¥½ | ä¸€èˆ¬ | ä¼˜ç§€ |

*åŸºäºæµè§ˆå™¨å·²å¯åŠ¨çš„æƒ…å†µ

---

## ğŸ¯ Tauri è¿ç§»å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€è¿ç§» (2-3å‘¨)
1. **é¡¹ç›®åˆå§‹åŒ–**
   ```bash
   npm install -g @tauri-apps/cli
   npx tauri init
   ```

2. **æ ¸å¿ƒé…ç½®è¿ç§»**
   - å°† `electron-builder.yml` é…ç½®è¿ç§»åˆ° `src-tauri/tauri.conf.json`
   - è¿ç§»åº”ç”¨å›¾æ ‡å’Œèµ„æºæ–‡ä»¶
   - é…ç½®æ„å»ºç›®æ ‡å¹³å°

3. **åŸºç¡€åŠŸèƒ½è¿ç§»**
   - æ–‡ä»¶ç³»ç»Ÿæ“ä½œè¿ç§»åˆ° Rust
   - çª—å£ç®¡ç† API è¿ç§»
   - èœå•ç³»ç»Ÿé‡æ„

### ç¬¬äºŒé˜¶æ®µï¼šæ€§èƒ½ä¼˜åŒ– (2-3å‘¨)
1. **Rust åç«¯å¼€å‘**
   ```rust
   // src-tauri/src/main.rs
   #[tauri::command]
   async fn read_markdown_file(path: String) -> Result<String, String> {
       std::fs::read_to_string(&path)
           .map_err(|e| e.to_string())
   }
   ```

2. **å¼‚æ­¥å¤„ç†ä¼˜åŒ–**
   - å¤§æ–‡ä»¶å¤„ç†ä½¿ç”¨å¼‚æ­¥ Rust
   - å¤šçº¿ç¨‹æ–‡ä»¶æ“ä½œ
   - å†…å­˜ç®¡ç†ä¼˜åŒ–

3. **å¯åŠ¨æ€§èƒ½ä¼˜åŒ–**
   - é¢„åŠ è½½å¸¸ç”¨èµ„æº
   - å»¶è¿ŸåŠ è½½éå…³é”®åŠŸèƒ½
   - æ™ºèƒ½ç¼“å­˜ç­–ç•¥

### ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½ (3-4å‘¨)
1. **ç³»ç»Ÿé›†æˆå¢å¼º**
   - åŸç”Ÿæ–‡ä»¶å¯¹è¯æ¡†
   - ç³»ç»Ÿæ‰˜ç›˜æ”¯æŒ
   - å…¨å±€å¿«æ·é”®

2. **å®‰å…¨æ€§æå‡**
   - Rust å†…å­˜å®‰å…¨ä¿è¯
   - æƒé™æ§åˆ¶ä¼˜åŒ–
   - æ²™ç®±ç¯å¢ƒé…ç½®

---

## ğŸ”§ Tauri æŠ€æœ¯æ ˆé€‰å‹

### å‰ç«¯ä¿æŒä¸å˜
- **Vue 3 + Composition API**
- **Vite æ„å»ºå·¥å…·**
- **TypeScript æ”¯æŒ**

### åç«¯ Rust æŠ€æœ¯æ ˆ
```toml
# src-tauri/Cargo.toml
[dependencies]
tauri = { version = "2.0", features = ["shell-open"] }
tokio = { version = "1", features = ["full"] }
serde = { version = "1.0", features = ["derive"] }
pulldown-cmark = "0.10"  # Markdown è§£æ
walkdir = "2.3"         # æ–‡ä»¶éå†
```

### æ ¸å¿ƒåŠŸèƒ½æ˜ å°„
| åŸ Electron åŠŸèƒ½ | Tauri æ›¿ä»£æ–¹æ¡ˆ |
|------------------|---------------|
| `fs` æ¨¡å— | Rust `std::fs` |
| `dialog` æ¨¡å— | `tauri::api::dialog` |
| IPC é€šä¿¡ | `tauri::command` |
| èœå•ç³»ç»Ÿ | `tauri::menu` |
| çª—å£ç®¡ç† | `tauri::window` |

---

## ğŸ“ˆ é¢„æœŸæ€§èƒ½æå‡

### å¯åŠ¨æ—¶é—´ä¼˜åŒ–
- **å†·å¯åŠ¨**: 2-5ç§’ â†’ 0.5-1ç§’ (æå‡ 75-80%)
- **çƒ­å¯åŠ¨**: 1-2ç§’ â†’ <0.5ç§’ (æå‡ 75%+)

### å†…å­˜ä½¿ç”¨ä¼˜åŒ–
- **åŸºç¡€å ç”¨**: 200MB â†’ 80MB (å‡å°‘ 60%)
- **å¤§æ–‡ä»¶å¤„ç†**: å†…å­˜ä½¿ç”¨æ›´ç¨³å®šï¼Œæ—  GC å‹åŠ›

### ç”¨æˆ·ä½“éªŒæå‡
- **å“åº”é€Ÿåº¦**: æ•´ä½“æ“ä½œå“åº”é€Ÿåº¦æå‡ 50-70%
- **æµç•…åº¦**: æ»šåŠ¨å’Œç¼–è¾‘æ›´åŠ æµç•…
- **ç¨³å®šæ€§**: å‡å°‘å´©æºƒå’Œå†…å­˜æ³„æ¼

---

## ğŸ¯ ç»“è®ºä¸å»ºè®®

### å¼ºçƒˆæ¨è Tauri
Tauri æ˜¯æœ€ä½³çš„æ€§èƒ½åŸºåº§æ›¿ä»£æ–¹æ¡ˆï¼Œç†ç”±ï¼š

1. **æ˜¾è‘—æ€§èƒ½æå‡**: å¯åŠ¨é€Ÿåº¦å’Œå†…å­˜ä½¿ç”¨å¤§å¹…æ”¹å–„
2. **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: Rust æä¾›å†…å­˜å®‰å…¨å’Œé«˜æ€§èƒ½
3. **æ´»è·ƒç¤¾åŒº**: å¿«é€Ÿå‘å±•ï¼Œç”Ÿæ€é€æ¸å®Œå–„
4. **æ¸è¿›å¼è¿ç§»**: å¯ä»¥é€æ­¥è¿ç§»ï¼Œæ— éœ€å…¨éƒ¨é‡å†™

### å®æ–½å»ºè®®
1. **åˆ†é˜¶æ®µè¿ç§»**: å…ˆè¿ç§»æ ¸å¿ƒåŠŸèƒ½ï¼Œå†ä¼˜åŒ–æ€§èƒ½
2. **ä¿ç•™å…¼å®¹æ€§**: åˆæœŸä¿æŒåŒç‰ˆæœ¬æ”¯æŒ
3. **ç”¨æˆ·æµ‹è¯•**: åœ¨è¿ç§»è¿‡ç¨‹ä¸­è¿›è¡Œå……åˆ†çš„ç”¨æˆ·æµ‹è¯•
4. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°ç”¨æˆ·æ–‡æ¡£å’Œå®‰è£…æŒ‡å—

### é£é™©æ§åˆ¶
1. **æŠ€æœ¯å­¦ä¹ **: å›¢é˜Ÿéœ€è¦å­¦ä¹  Rust åŸºç¡€çŸ¥è¯†
2. **è°ƒè¯•éš¾åº¦**: Rust è°ƒè¯•ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦é€‚åº”
3. **ç”Ÿæ€æˆç†Ÿåº¦**: æŸäº›ç¬¬ä¸‰æ–¹åº“å¯èƒ½ä¸å¦‚ Node.js ä¸°å¯Œ

é€šè¿‡è¿ç§»åˆ° Tauriï¼ŒMarkText Next å°†è·å¾—æ¥è¿‘åŸç”Ÿåº”ç”¨çš„æ€§èƒ½ï¼ŒåŒæ—¶ä¿æŒç°ä»£ Web æŠ€æœ¯çš„å¼€å‘ä½“éªŒã€‚
